{"ast":null,"code":"import React,{useRef}from\"react\";import classes from\"./KeyInput.module.css\";import{addKey}from\"../../store/keys-actions\";import{useDispatch,useSelector}from\"react-redux\";import{callNotification}from\"../../store/notification-actions\";import{jsx as _jsx}from\"react/jsx-runtime\";var KeyInput=function KeyInput(){var dispatch=useDispatch();var inputEl=useRef(null);var keys=useSelector(function(state){return state.keyList.items;});var reset=function reset(){inputEl.current.value=\"\";inputEl.current.blur();};var addKeyHandler=function addKeyHandler(event){event.preventDefault();var inputValue=inputEl.current.value;var inputKey=inputValue.trim().split(\" \").join(\"\");if(keys.some(function(el){return el.key===inputKey;})){dispatch(callNotification(\"error\",\"You already have this key.\"));reset();return;}if(keys.length>=10){dispatch(callNotification(\"error\",\"You can add up to 10 keys.\"));reset();return;}if(inputKey!==\"\"){dispatch(addKey(inputKey));reset();}reset();};return/*#__PURE__*/_jsx(\"form\",{onSubmit:addKeyHandler,className:classes.add__keys,children:/*#__PURE__*/_jsx(\"input\",{ref:inputEl,type:\"text\",placeholder:\"Add keys\"})});};export default KeyInput;","map":{"version":3,"names":["React","useRef","classes","addKey","useDispatch","useSelector","callNotification","KeyInput","dispatch","inputEl","keys","state","keyList","items","reset","current","value","blur","addKeyHandler","event","preventDefault","inputValue","inputKey","trim","split","join","some","el","key","length","add__keys"],"sources":["/Users/ivylou/Desktop/pythonProject/keysee/src/components/Keys/KeyInput.js"],"sourcesContent":["import React, { useRef } from \"react\";\n\nimport classes from \"./KeyInput.module.css\";\nimport { addKey } from \"../../store/keys-actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { callNotification } from \"../../store/notification-actions\";\n\nconst KeyInput = () => {\n  const dispatch = useDispatch();\n  const inputEl = useRef(null);\n  const keys = useSelector((state) => state.keyList.items);\n\n  const reset = () => {\n    inputEl.current.value = \"\";\n    inputEl.current.blur();\n  };\n\n  const addKeyHandler = (event) => {\n    event.preventDefault();\n\n    const inputValue = inputEl.current.value;\n    const inputKey = inputValue.trim().split(\" \").join(\"\");\n\n    if (keys.some((el) => el.key === inputKey)) {\n      dispatch(callNotification(\"error\", \"You already have this key.\"));\n      reset();\n      return;\n    }\n    if (keys.length >= 10) {\n      dispatch(callNotification(\"error\", \"You can add up to 10 keys.\"));\n      reset();\n      return;\n    }\n    if (inputKey !== \"\") {\n      dispatch(addKey(inputKey));\n      reset();\n    }\n\n    reset();\n  };\n\n  return (\n    <form onSubmit={addKeyHandler} className={classes.add__keys}>\n      <input ref={inputEl} type=\"text\" placeholder=\"Add keys\" />\n    </form>\n  );\n};\n\nexport default KeyInput;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,MAAM,KAAQ,OAAO,CAErC,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,OAASC,MAAM,KAAQ,0BAA0B,CACjD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,gBAAgB,KAAQ,kCAAkC,CAAC,2CAEpE,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,GAAMK,QAAO,CAAGR,MAAM,CAAC,IAAI,CAAC,CAC5B,GAAMS,KAAI,CAAGL,WAAW,CAAC,SAACM,KAAK,QAAKA,MAAK,CAACC,OAAO,CAACC,KAAK,GAAC,CAExD,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClBL,OAAO,CAACM,OAAO,CAACC,KAAK,CAAG,EAAE,CAC1BP,OAAO,CAACM,OAAO,CAACE,IAAI,EAAE,CACxB,CAAC,CAED,GAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,KAAK,CAAK,CAC/BA,KAAK,CAACC,cAAc,EAAE,CAEtB,GAAMC,WAAU,CAAGZ,OAAO,CAACM,OAAO,CAACC,KAAK,CACxC,GAAMM,SAAQ,CAAGD,UAAU,CAACE,IAAI,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAEtD,GAAIf,IAAI,CAACgB,IAAI,CAAC,SAACC,EAAE,QAAKA,GAAE,CAACC,GAAG,GAAKN,QAAQ,GAAC,CAAE,CAC1Cd,QAAQ,CAACF,gBAAgB,CAAC,OAAO,CAAE,4BAA4B,CAAC,CAAC,CACjEQ,KAAK,EAAE,CACP,OACF,CACA,GAAIJ,IAAI,CAACmB,MAAM,EAAI,EAAE,CAAE,CACrBrB,QAAQ,CAACF,gBAAgB,CAAC,OAAO,CAAE,4BAA4B,CAAC,CAAC,CACjEQ,KAAK,EAAE,CACP,OACF,CACA,GAAIQ,QAAQ,GAAK,EAAE,CAAE,CACnBd,QAAQ,CAACL,MAAM,CAACmB,QAAQ,CAAC,CAAC,CAC1BR,KAAK,EAAE,CACT,CAEAA,KAAK,EAAE,CACT,CAAC,CAED,mBACE,aAAM,QAAQ,CAAEI,aAAc,CAAC,SAAS,CAAEhB,OAAO,CAAC4B,SAAU,uBAC1D,cAAO,GAAG,CAAErB,OAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,EAAG,EACrD,CAEX,CAAC,CAED,cAAeF,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}