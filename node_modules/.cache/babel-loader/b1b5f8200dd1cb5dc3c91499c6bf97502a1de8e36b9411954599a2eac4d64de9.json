{"ast":null,"code":"import React,{useRef}from\"react\";import classes from\"./AddTwitter.module.css\";import SectionBottom from\"../Layout/SectionBottom\";import{addAccount}from\"../../store/accounts-actions\";import{useDispatch,useSelector}from\"react-redux\";import{notificationActions}from\"../../store/notification\";import{callNotification}from\"../../store/notification-actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTwitter=function AddTwitter(){var dispatch=useDispatch();var inputEl=useRef();var accounts=useSelector(function(state){return state.accountsList.items;});var reset=function reset(){inputEl.current.value=\"\";inputEl.current.blur();};var formSubmitHandler=function formSubmitHandler(event){event.preventDefault();var inputValue=inputEl.current.value;var inputHandle=inputValue.trim().split(\" \").join(\"\");if(accounts.some(function(el){return el.account===inputHandle;})){dispatch(callNotification(\"error\",\"You already have this account.\"));reset();return;}if(accounts.length>=50){dispatch(callNotification(\"error\",\"You can add up to 50 accounts.\"));reset();return;}else if(inputHandle.trim().length<3||!inputHandle.includes(\"@\")){dispatch(callNotification(\"error\",\"Handle should start with \\\"@\\\" and can't be less then 3 symbols\"));}else{dispatch(addAccount(inputHandle));}reset();};return/*#__PURE__*/_jsx(SectionBottom,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formSubmitHandler,className:classes.add__followings,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"@twitterhandle\",ref:inputEl}),/*#__PURE__*/_jsx(\"button\",{className:classes.btn__add,children:\"Add\"})]})});};export default AddTwitter;","map":{"version":3,"names":["React","useRef","classes","SectionBottom","addAccount","useDispatch","useSelector","notificationActions","callNotification","AddTwitter","dispatch","inputEl","accounts","state","accountsList","items","reset","current","value","blur","formSubmitHandler","event","preventDefault","inputValue","inputHandle","trim","split","join","some","el","account","length","includes","add__followings","btn__add"],"sources":["/Users/ivylou/Desktop/pythonProject/keysee/src/components/Followings/AddTwitter.js"],"sourcesContent":["import React, { useRef } from \"react\";\n\nimport classes from \"./AddTwitter.module.css\";\nimport SectionBottom from \"../Layout/SectionBottom\";\nimport { addAccount } from \"../../store/accounts-actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { notificationActions } from \"../../store/notification\";\nimport { callNotification } from \"../../store/notification-actions\";\n\nconst AddTwitter = () => {\n  const dispatch = useDispatch();\n  const inputEl = useRef();\n  const accounts = useSelector((state) => state.accountsList.items);\n\n  const reset = () => {\n    inputEl.current.value = \"\";\n    inputEl.current.blur();\n  };\n\n  const formSubmitHandler = (event) => {\n    event.preventDefault();\n\n    const inputValue = inputEl.current.value;\n    const inputHandle = inputValue.trim().split(\" \").join(\"\");\n\n    if (accounts.some((el) => el.account === inputHandle)) {\n      dispatch(callNotification(\"error\", \"You already have this account.\"));\n      reset();\n      return;\n    }\n    if (accounts.length >= 50) {\n      dispatch(callNotification(\"error\", \"You can add up to 50 accounts.\"));\n      reset();\n      return;\n    } else if (inputHandle.trim().length < 3 || !inputHandle.includes(\"@\")) {\n      dispatch(\n        callNotification(\n          \"error\",\n          `Handle should start with \"@\" and can't be less then 3 symbols`\n        )\n      );\n    } else {\n      dispatch(addAccount(inputHandle));\n    }\n\n    reset();\n  };\n\n  return (\n    <SectionBottom>\n      <form onSubmit={formSubmitHandler} className={classes.add__followings}>\n        <input type=\"text\" placeholder=\"@twitterhandle\" ref={inputEl} />\n        <button className={classes.btn__add}>Add</button>\n      </form>\n    </SectionBottom>\n  );\n};\n\nexport default AddTwitter;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,MAAM,KAAQ,OAAO,CAErC,MAAOC,QAAO,KAAM,yBAAyB,CAC7C,MAAOC,cAAa,KAAM,yBAAyB,CACnD,OAASC,UAAU,KAAQ,8BAA8B,CACzD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,mBAAmB,KAAQ,0BAA0B,CAC9D,OAASC,gBAAgB,KAAQ,kCAAkC,CAAC,wFAEpE,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CACvB,GAAMC,SAAQ,CAAGL,WAAW,EAAE,CAC9B,GAAMM,QAAO,CAAGV,MAAM,EAAE,CACxB,GAAMW,SAAQ,CAAGN,WAAW,CAAC,SAACO,KAAK,QAAKA,MAAK,CAACC,YAAY,CAACC,KAAK,GAAC,CAEjE,GAAMC,MAAK,CAAG,QAARA,MAAK,EAAS,CAClBL,OAAO,CAACM,OAAO,CAACC,KAAK,CAAG,EAAE,CAC1BP,OAAO,CAACM,OAAO,CAACE,IAAI,EAAE,CACxB,CAAC,CAED,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,KAAK,CAAK,CACnCA,KAAK,CAACC,cAAc,EAAE,CAEtB,GAAMC,WAAU,CAAGZ,OAAO,CAACM,OAAO,CAACC,KAAK,CACxC,GAAMM,YAAW,CAAGD,UAAU,CAACE,IAAI,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAEzD,GAAIf,QAAQ,CAACgB,IAAI,CAAC,SAACC,EAAE,QAAKA,GAAE,CAACC,OAAO,GAAKN,WAAW,GAAC,CAAE,CACrDd,QAAQ,CAACF,gBAAgB,CAAC,OAAO,CAAE,gCAAgC,CAAC,CAAC,CACrEQ,KAAK,EAAE,CACP,OACF,CACA,GAAIJ,QAAQ,CAACmB,MAAM,EAAI,EAAE,CAAE,CACzBrB,QAAQ,CAACF,gBAAgB,CAAC,OAAO,CAAE,gCAAgC,CAAC,CAAC,CACrEQ,KAAK,EAAE,CACP,OACF,CAAC,IAAM,IAAIQ,WAAW,CAACC,IAAI,EAAE,CAACM,MAAM,CAAG,CAAC,EAAI,CAACP,WAAW,CAACQ,QAAQ,CAAC,GAAG,CAAC,CAAE,CACtEtB,QAAQ,CACNF,gBAAgB,CACd,OAAO,mEAER,CACF,CACH,CAAC,IAAM,CACLE,QAAQ,CAACN,UAAU,CAACoB,WAAW,CAAC,CAAC,CACnC,CAEAR,KAAK,EAAE,CACT,CAAC,CAED,mBACE,KAAC,aAAa,wBACZ,cAAM,QAAQ,CAAEI,iBAAkB,CAAC,SAAS,CAAElB,OAAO,CAAC+B,eAAgB,wBACpE,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,GAAG,CAAEtB,OAAQ,EAAG,cAChE,eAAQ,SAAS,CAAET,OAAO,CAACgC,QAAS,iBAAa,GAC5C,EACO,CAEpB,CAAC,CAED,cAAezB,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}