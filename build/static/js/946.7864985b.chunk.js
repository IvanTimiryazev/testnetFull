"use strict";(self.webpackChunkkeysee=self.webpackChunkkeysee||[]).push([[946],{7822:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(549),a="Notification_notification__SfISU",s="Notification_error__IBuVF",i="Notification_success__5+j+a",o="Notification_loaded__1vu5h",c="Notification_ModalOpen__7dETP",u="Notification_ModalClosed__ibOua",l=t(184),d=function(e){var n="";"error"===e.status&&(n=s),"success"===e.status&&(n=i),"loaded"===e.status&&(n=o);var t="".concat(a," ").concat(n);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(r.Z,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:1e3,classNames:{enter:"",enterActive:c,exit:"",exitActive:u},children:(0,l.jsx)("div",{className:t,children:e.message?(0,l.jsx)("p",{children:e.message}):""})})})}},6649:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ke}});var r=t(2791),a=t(9434),s="MainHeader_header__nG6Tw",i="MainHeader_logo__img__sZAkL",o="MainHeader_user__avatar__9MQpY",c=t.p+"static/media/Photo.b8214c3f998b5b054d75.png",u="HeaderMenu_menu__eTmBE",l="HeaderMenu_menuList__FMF-Z",d="HeaderMenu_menuLi__ksqS2",p="HeaderMenu_passwordIcon__XFYyz",h="HeaderMenu_emailIcon__-ZnTH",f="HeaderMenu_logoutIcon__zQjP+",m="HeaderMenu_menuOpen__j0qJi",v="HeaderMenu_menuClose__NGrT1",x=t(5767),w=t(549),_=t(184),j=function(e){var n=e.show,t=e.setActive,r=(0,a.I0)();return(0,_.jsx)(w.Z,{mountOnEnter:!0,unmountOnExit:!0,in:n,timeout:200,classNames:{enter:"",enterActive:m,exit:"",exitActive:v},children:(0,_.jsx)("div",{className:u,onClick:t,children:(0,_.jsxs)("ul",{className:l,onClick:function(e){return e.stopPropagation()},children:[(0,_.jsxs)("li",{onClick:function(){r(x.n.openChangePasswordModal())},className:d,children:[(0,_.jsx)("div",{className:p}),(0,_.jsx)("span",{children:"Change password"})]}),(0,_.jsxs)("li",{onClick:function(){r(x.n.openChangeEmailModal())},className:d,children:[(0,_.jsx)("div",{className:h}),(0,_.jsx)("span",{children:"Change email"})]}),(0,_.jsxs)("li",{onClick:function(){r(x.n.openLogoutModal())},className:d,children:[(0,_.jsx)("div",{className:f}),(0,_.jsx)("span",{children:"Logout"})]})]})})})},g=t(8124),y=t(512),k="Modal_backdrop__9Fkrr",N="Modal_modal__BVIC4",Z="Modal_close__lhTqR",A="Modal_openModal__IilGc",C="Modal_closeModal__8Elgh",b=function(e){var n=(0,a.I0)(),t=function(){"changePassword"!==e.modalType&&"changeEmail"!==e.modalType||e.reset(),n(x.n.closeModal())};return(0,_.jsx)(w.Z,{mountOnEnter:!0,unmountOnExit:!0,in:e.show,timeout:300,classNames:{enter:"",enterActive:A,exit:"",exitActive:C},children:(0,_.jsx)("div",{onClick:t,className:k,children:(0,_.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:N,children:[(0,_.jsx)("span",{onClick:t,className:Z}),(0,_.jsx)("div",{children:e.children})]})})})},E="LogoutModal_container__R1cFH",T="LogoutModal_title__9BYAK",S=function(e){var n=(0,a.I0)();return(0,_.jsx)(b,{modalType:"logout",show:e.show,children:(0,_.jsxs)("div",{className:E,children:[(0,_.jsx)("span",{className:T,children:"Do you want to log out?"}),(0,_.jsx)(y.Z,{title:"Log Out",onClick:function(){n(x.n.closeModal()),n(g.Y.logOut())}})]})})},I=t(4165),P=t(5861),H=t(270),B=t(8995),M=t(5998),Y="ChangePasswordModal_title__a8HoM",L="ChangePasswordModal_container__7tjlP",O="ChangePasswordModal_errorText__7pGBe",G=function(e){var n,t=(0,a.I0)(),r=(0,H.Z)((function(e){return e.includes("@")&&e.includes(".")&&e.trim().length>=6})),s=r.value,i=r.hasError,o=r.isValid,c=r.valueChangeHandler,u=r.inputBlurHandler,l=r.reset,d=(0,H.Z)((function(e){return e.includes("@")&&e.includes(".")&&e.trim().length>=6})),p=d.value,h=d.hasError,f=d.isValid,m=d.valueChangeHandler,v=d.inputBlurHandler,w=d.reset;(i||h)&&(n=!0);var j=!1;o&&s===p&&(j=!0);return(0,_.jsx)(b,{modalType:"changeEmail",reset:function(){l(),w()},show:e.show,children:(0,_.jsxs)("div",{className:L,children:[(0,_.jsx)("span",{className:Y,children:"Change email"}),(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var n;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/v1/edit_profile",{method:"PUT",body:JSON.stringify({email:s}),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(n=e.sent,document.activeElement.blur(),l(),w(),n.ok){e.next=8;break}throw new Error("Something went wrong. Please try again.");case 8:t(x.n.closeModal()),t((0,B.j)("success","Your email has been changed successfully!"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{n()}catch(r){t((0,B.j)("error",r.message))}},children:[(0,_.jsxs)("div",{className:"inputsContainer",children:[(0,_.jsx)(M.Z,{inputType:"email",enteredEmail:s,emailInputHasError:i,enteredEmailIsValid:o,emailChangedHandler:c,emailBlurHandler:u,resetEmailInput:l,placeholder:"New email"}),(0,_.jsx)(M.Z,{inputType:"email",enteredEmail:p,emailInputHasError:h,enteredEmailIsValid:f,emailChangedHandler:m,emailBlurHandler:v,resetEmailInput:w,placeholder:"Repeat email"})]}),n&&(0,_.jsx)("span",{className:O,children:"Enter correct email please."}),(0,_.jsx)(y.Z,{title:"Confirm",type:"submit",disabled:!j})]})]})})},F=function(e){var n,t=(0,a.I0)(),r=(0,H.Z)((function(e){return e.trim().length>=6})),s=r.value,i=r.hasError,o=r.isValid,c=r.valueChangeHandler,u=r.inputBlurHandler,l=r.reset,d=(0,H.Z)((function(e){return e.trim().length>=6})),p=d.value,h=d.hasError,f=d.isValid,m=d.valueChangeHandler,v=d.inputBlurHandler,w=d.reset,j=(0,H.Z)((function(e){return e.trim().length>=6})),g=j.value,k=j.hasError,N=j.isValid,Z=j.valueChangeHandler,A=j.inputBlurHandler,C=j.reset;(i||h||k)&&(n=!0);var E=!1;f&&p===g&&(E=!0);return(0,_.jsx)(b,{modalType:"changePassword",reset:function(){l(),w(),C()},show:e.show,children:(0,_.jsxs)("div",{className:L,children:[(0,_.jsx)("span",{className:Y,children:"Change password"}),(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var n;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/v1/edit_password",{method:"PUT",body:JSON.stringify({current_password:s,password:p}),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(n=e.sent,document.activeElement.blur(),l(),w(),C(),n.ok){e.next=13;break}if(400!==n.status){e.next=12;break}throw new Error("Wrong current password.");case 12:throw new Error("Something went wrong. Please try again.");case 13:t(x.n.closeModal()),t((0,B.j)("success","Your password has been changed successfully!"));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{n()}catch(r){t((0,B.j)("error",r.message))}},children:[(0,_.jsxs)("div",{className:"inputsContainer",children:[(0,_.jsx)(M.Z,{inputType:"password",enteredPassword:s,passwordInputHasError:i,enteredPasswordIsValid:o,passwordChangedHandler:c,passwordBlurHandler:u,resetPasswordInput:l,placeholder:"Current password"}),(0,_.jsx)(M.Z,{inputType:"password",enteredPassword:p,passwordInputHasError:h,enteredPasswordIsValid:f,passwordChangedHandler:m,passwordBlurHandler:v,resetPasswordInput:w,placeholder:"New password"}),(0,_.jsx)(M.Z,{inputType:"password",enteredPassword:g,passwordInputHasError:k,enteredPasswordIsValid:N,passwordChangedHandler:Z,passwordBlurHandler:A,resetPasswordInput:C,placeholder:"New password"})]}),n&&(0,_.jsx)("span",{className:O,children:"Password can't be less then 6 symbols."}),(0,_.jsx)(y.Z,{title:"Confirm",type:"submit",disabled:!E})]})]})})},R=function(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.modals.showMenu})),t=(0,a.v9)((function(e){return e.modals.showLogoutModal})),r=(0,a.v9)((function(e){return e.modals.showChangeEmailModal})),u=(0,a.v9)((function(e){return e.modals.showChangePasswordModal})),l=function(){e(n?x.n.closeMenu():x.n.openMenu())};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("header",{className:s,children:(0,_.jsxs)("nav",{children:[(0,_.jsx)("a",{href:"/",children:(0,_.jsx)("img",{src:"data:image/png;base64,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",alt:"KeySee",className:i})}),(0,_.jsx)("img",{src:c,alt:"User Avatar",className:o,onClick:l})]})}),(0,_.jsx)(j,{show:n,setActive:l}),(0,_.jsx)(S,{show:t}),(0,_.jsx)(G,{show:r}),(0,_.jsx)(F,{show:u})]})},D="AddTwitter_add__followings__pPfWc",Q="AddTwitter_btn__add__xVDQ3",z="SectionBottom_sectionBottom__EjtkP",V=function(e){return(0,_.jsx)("div",{className:z,children:e.children})},U=t(9946),J=t(6174),K=function(){return function(){var e=(0,P.Z)((0,I.Z)().mark((function e(n){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(J.r.showSpinner()),t=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/accounts",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(t=e.sent,n(J.r.hideSpinner()),t.ok){e.next=6;break}throw new Error("Fetching accounts failed ...");case 6:return e.next=8,t.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,t();case 5:r=e.sent,n(U.h.replaceAccounts({items:r||[]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n((0,B.j)("error",e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}()},X=(t(8098),function(){var e=(0,a.I0)(),n=(0,r.useRef)(),t=(0,a.v9)((function(e){return e.accountsList.items})),s=function(){n.current.value="",n.current.blur()};return(0,_.jsx)(V,{children:(0,_.jsxs)("form",{onSubmit:function(r){r.preventDefault();var a,i=n.current.value.trim().split(" ").join("");return t.some((function(e){return e.account===i}))?(e((0,B.j)("error","You already have this account.")),void s()):t.length>=50?(e((0,B.j)("error","You can add up to 50 accounts.")),void s()):(i.trim().length<3||!i.includes("@")?e((0,B.j)("error",'Handle should start with "@" and can\'t be less then 3 symbols')):e((a=i,function(){var e=(0,P.Z)((0,I.Z)().mark((function e(n){var t;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(J.r.showSpinner()),t=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/accounts",{method:"POST",body:JSON.stringify({account:a}),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(t=e.sent,n(J.r.hideSpinner()),t.ok){e.next=6;break}throw new Error("Adding account failed ...");case 6:n(K());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,t();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n((0,B.j)("error",e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}())),void s())},className:D,children:[(0,_.jsx)("input",{type:"text",placeholder:"@twitterhandle",ref:n}),(0,_.jsx)("button",{className:Q,children:"Add"})]})})}),W="SectionWrapper_sectionWrapper__2Uy1v",q=function(e){return(0,_.jsx)("section",{className:W,children:e.children})},$="SectionHeader_sectionHeader__kHdOz",ee=function(e){return(0,_.jsx)("div",{className:$,children:(0,_.jsx)("h2",{children:e.title})})},ne="Content_content__nsl4T",te=function(e){return(0,_.jsx)("div",{className:ne,children:e.children})},re="FollowingsSection_followings__MvWPV",ae="FollowingsSection_noAccounts__ICZ0g",se="TwitterAccount_twitter__account__HhxYe",ie="TwitterAccount_twitter__info__IuGfn",oe="TwitterAccount_twitter__text__zKiKx",ce="TwitterAccount_twitter__handle__D7+o5",ue="FollowingButton_btn__unfollow__PcuHa",le=function(e){var n=(0,a.I0)();return(0,_.jsx)("button",{onClick:function(){var t=e.id;n(function(e){return function(){var n=(0,P.Z)((0,I.Z)().mark((function n(t){var r;return(0,I.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(J.r.showSpinner()),r=function(){var n=(0,P.Z)((0,I.Z)().mark((function n(){var r;return(0,I.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/v1/accounts",{method:"DELETE",body:JSON.stringify({id:e}),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(r=n.sent,t(J.r.hideSpinner()),r.ok){n.next=6;break}throw new Error("Deleting account failed ...");case 6:t(K());case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=2,n.next=5,r();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),t((0,B.j)("error",n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e){return n.apply(this,arguments)}}()}(t))},className:ue})},de=function(e){var n="https://twitter.com/".concat(e.handle);return(0,_.jsxs)("li",{className:se,children:[(0,_.jsx)("div",{className:ie,children:(0,_.jsx)("div",{className:oe,children:(0,_.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",className:ce,children:e.handle})})}),(0,_.jsx)(le,{id:e.id})]})},pe=function(){var e=(0,a.v9)((function(e){return e.accountsList.items}));return(0,_.jsx)(te,{children:e.length?(0,_.jsx)("ul",{className:re,children:e.map((function(e){return(0,_.jsx)(de,{id:e.id,handle:e.account},e.id)}))}):(0,_.jsx)("p",{className:ae,children:"Please add twitter acounts."})})},he=function(){return(0,_.jsxs)(q,{children:[(0,_.jsx)(ee,{title:"My followings"}),(0,_.jsx)(pe,{}),(0,_.jsx)(X,{})]})},fe="TweetsList_tweets__list__BR1L4",me="TweetsList_noAccounts__Dh+9V",ve="TweetsList_loading__Ospmp",xe="Tweet_tweet_post__Txgx2",we="Tweet_user__avatar__BP5Rz",_e="Tweet_tweet__text_content__oEEU9",je="Tweet_tweet__post_info__lo8KJ",ge="Tweet_twitter__name__2wSeI",ye="Tweet_twitter__handle__Zzg5S",ke="Tweet_tweet__post_content__QOl1q",Ne="Tweet_visitOriginal__oBqTw",Ze=function(e){var n;return e.item.date&&(n=e.item.date.split(", ").pop().split(" 2023")[0]),(0,_.jsxs)("li",{className:xe,children:[(0,_.jsx)("div",{children:(0,_.jsx)("img",{src:e.item.profile_image_url,alt:"Profile image",className:we})}),(0,_.jsxs)("div",{className:_e,children:[(0,_.jsxs)("div",{className:je,children:[(0,_.jsx)("span",{className:ge,children:e.item.display_name}),(0,_.jsxs)("span",{className:ye,children:["@",e.item.username]}),(0,_.jsx)("span",{className:ye,children:"\u2022 "}),(0,_.jsx)("span",{className:ye,children:n}),(0,_.jsx)("a",{href:e.item.url,target:"_blank",rel:"noreferrer",className:Ne,children:" "})]}),(0,_.jsx)("div",{className:ke,children:e.item.content})]})]})},Ae=t(1537),Ce=function(){var e,n=(0,a.v9)((function(e){return e.tweetsList.items})),t=(0,a.v9)((function(e){return e.tweetsList.isLoading}));return t&&(e=(0,_.jsxs)("div",{className:ve,children:[(0,_.jsx)(Ae.Z,{}),(0,_.jsx)("p",{children:"Please wait. It could take some time."})]})),n&&0!==(null===n||void 0===n?void 0:n.length)||t||(e=(0,_.jsx)("p",{className:me,children:"Please add twitter accounts & keys."})),(null===n||void 0===n?void 0:n.length)>0&&!t&&(e=(0,_.jsx)("ul",{className:fe,children:n.map((function(e){return(0,_.jsx)(Ze,{item:e},e.url)}))})),(0,_.jsx)(te,{children:e})},be=function(){return(0,_.jsxs)(q,{children:[(0,_.jsx)(ee,{title:"Tweets"}),(0,_.jsx)(Ce,{})]})},Ee="Keys_noKeys__YLCpi",Te="KeysList_keys__list__aBHQH",Se="Key_key__OmArW",Ie="Key_key__text__qScN9",Pe="Key_key__delete__oDvjp",He=t(6455),Be=function(){return function(){var e=(0,P.Z)((0,I.Z)().mark((function e(n){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(J.r.showSpinner()),t=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/keys",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(t=e.sent,n(J.r.hideSpinner()),t.ok){e.next=6;break}throw new Error("Fetching keys failed ...");case 6:return e.next=8,t.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,t();case 5:r=e.sent,n(He.F.replaceKeys({items:r||[]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n((0,B.j)("error",e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}()},Me=function(e){var n=(0,a.I0)();return(0,_.jsxs)("li",{className:Se,children:[(0,_.jsx)("span",{className:Ie,children:e.title}),(0,_.jsx)("span",{onClick:function(){var t=e.id;n(function(e){return function(){var n=(0,P.Z)((0,I.Z)().mark((function n(t){var r;return(0,I.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(J.r.showSpinner()),r=function(){var n=(0,P.Z)((0,I.Z)().mark((function n(){var r;return(0,I.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/v1/keys",{method:"DELETE",body:JSON.stringify({id:e}),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(r=n.sent,t(J.r.hideSpinner()),r.ok){n.next=6;break}throw new Error("Deleting key failed ...");case 6:t(Be());case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=2,n.next=5,r();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),t((0,B.j)("error",n.t0.message));case 10:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e){return n.apply(this,arguments)}}()}(t))},className:Pe})]})},Ye=function(e){var n=e.keys;return(0,_.jsx)("ul",{className:Te,children:n.map((function(e){return(0,_.jsx)(Me,{id:e.id,title:e.key},e.id)}))})},Le="KeyInput_add__keys__gx544",Oe=function(){var e=(0,a.I0)(),n=(0,r.useRef)(null),t=(0,a.v9)((function(e){return e.keyList.items})),s=function(){n.current.value="",n.current.blur()};return(0,_.jsx)("form",{onSubmit:function(r){r.preventDefault();var a,i=n.current.value.trim().split(" ").join("");return t.some((function(e){return e.key===i}))?(e((0,B.j)("error","You already have this key.")),void s()):t.length>=10?(e((0,B.j)("error","You can add up to 10 keys.")),void s()):(""!==i&&(e((a=i,function(){var e=(0,P.Z)((0,I.Z)().mark((function e(n){var t;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(J.r.showSpinner()),t=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/keys",{method:"POST",body:JSON.stringify({key:a}),headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(t=e.sent,n(J.r.hideSpinner()),t.ok){e.next=6;break}throw new Error("Adding key failed ...");case 6:n(Be());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,t();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),n((0,B.j)("error",e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n){return e.apply(this,arguments)}}())),s()),void s())},className:Le,children:(0,_.jsx)("input",{ref:n,type:"text",placeholder:"Add keys"})})},Ge=function(){var e=(0,a.v9)((function(e){return e.keyList.items}));return(0,_.jsxs)(te,{children:[(0,_.jsx)(Oe,{}),e.length?(0,_.jsx)(Ye,{keys:e}):(0,_.jsx)("p",{className:Ee,children:"Please add keys."})]})},Fe="StartButton_startButton__CHJOR",Re=t(8137),De=function(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.tweetsList.isLoading}));return(0,_.jsx)(V,{children:(0,_.jsx)("div",{className:Fe,children:(0,_.jsx)(y.Z,{title:"Start Search",onClick:function(){e(function(){var e=(0,P.Z)((0,I.Z)().mark((function e(n){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Re.A.showLoading()),t=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/parsing",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:return t=e.sent,n(Re.A.hideLoading()),e.next=6,t.json();case 6:if(r=e.sent,console.log(r),t.ok){e.next=10;break}throw new Error("Parcing failed... Please try again.");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,t();case 5:r=e.sent,n(Re.A.replaceTweets({items:r||[]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}())},disabled:n})})})},Qe=function(){return(0,_.jsxs)(q,{children:[(0,_.jsx)(ee,{title:"Keys"}),(0,_.jsx)(Ge,{}),(0,_.jsx)(De,{})]})},ze=t(7822),Ve="SmallSpinner_spin__pDFMo",Ue="SmallSpinner_spinner__Z+DiN",Je=function(){return(0,_.jsx)("div",{className:Ve,children:(0,_.jsx)("div",{className:Ue})})},Ke=function(){var e=(0,a.I0)(),n=(0,a.v9)((function(e){return e.notification.notification})),t=(0,a.v9)((function(e){return e.spinner.show})),s=(0,a.v9)((function(e){return e.notification.showNotification}));return(0,r.useEffect)((function(){e(Be())}),[e]),(0,r.useEffect)((function(){e(K())}),[e]),(0,r.useEffect)((function(){e(function(){var e=(0,P.Z)((0,I.Z)().mark((function e(n){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Re.A.showLoading()),t=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t,r;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/last_results",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});case 2:if(t=e.sent,n(Re.A.hideLoading()),t.ok){e.next=6;break}throw new Error("Something went wrong ...");case 6:return e.next=8,t.json();case 8:return r=e.sent,n((0,B.j)("loaded","Previous successful result loaded.")),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=2,e.next=5,t();case 5:r=e.sent,n(Re.A.replaceTweets({items:r||[]})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n((0,B.j)("error",e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}())}),[e]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ze.Z,{show:s,status:n.status,message:n.message}),t?(0,_.jsx)(Je,{}):"",(0,_.jsx)(R,{}),(0,_.jsxs)("main",{children:[(0,_.jsx)(he,{}),(0,_.jsx)(be,{}),(0,_.jsx)(Qe,{})]})]})}},8995:function(e,n,t){t.d(n,{j:function(){return a}});var r=t(8098),a=function(e,n){return function(t){t(r.J.showNotification({status:e,message:n})),setTimeout((function(){t(r.J.hideNotification())}),2500),setTimeout((function(){t(r.J.resetNotification())}),4e3)}}}}]);
//# sourceMappingURL=946.7864985b.chunk.js.map