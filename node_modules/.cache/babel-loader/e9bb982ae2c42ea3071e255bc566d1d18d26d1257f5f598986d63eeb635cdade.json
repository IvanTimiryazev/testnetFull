{"ast":null,"code":"import React,{Suspense}from\"react\";import{useSelector}from\"react-redux\";import{Redirect,Route,Switch}from\"react-router-dom\";import LoadingSpinner from\"./components/Reusable/LoadingSpinner\";import LoginPage from\"./pages/LoginPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RegisterPage=/*#__PURE__*/React.lazy(function(){return import(\"./pages/RegisterPage\");});var MainPage=/*#__PURE__*/React.lazy(function(){return import(\"./pages/MainPage\");});var ErrorPage=/*#__PURE__*/React.lazy(function(){return import(\"./pages/ErrorPage\");});var EmailFormPage=/*#__PURE__*/React.lazy(function(){return import(\"./pages/EmailFormPage\");});var ResetPasswordPage=/*#__PURE__*/React.lazy(function(){return import(\"./pages/ResetPasswordPage\");});var App=function App(){var isLoggedIn=useSelector(function(state){return!!state.auth.token;});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"centered\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})}),children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsxs(Route,{path:\"/\",exact:true,children:[isLoggedIn&&/*#__PURE__*/_jsx(MainPage,{}),!isLoggedIn&&/*#__PURE__*/_jsx(Redirect,{to:\"/login\"})]}),/*#__PURE__*/_jsxs(Route,{path:\"/login\",children:[!isLoggedIn&&/*#__PURE__*/_jsx(LoginPage,{}),isLoggedIn&&/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]}),/*#__PURE__*/_jsxs(Route,{path:\"/register\",children:[!isLoggedIn&&/*#__PURE__*/_jsx(RegisterPage,{}),isLoggedIn&&/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]}),/*#__PURE__*/_jsx(Route,{to:\"*\",children:/*#__PURE__*/_jsx(ErrorPage,{})})]})})});};export default App;","map":{"version":3,"names":["React","Suspense","useSelector","Redirect","Route","Switch","LoadingSpinner","LoginPage","RegisterPage","lazy","MainPage","ErrorPage","EmailFormPage","ResetPasswordPage","App","isLoggedIn","state","auth","token"],"sources":["/Users/ivylou/Desktop/pythonProject/keysee/src/App.js"],"sourcesContent":["import React, { Suspense } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport LoadingSpinner from \"./components/Reusable/LoadingSpinner\";\nimport LoginPage from \"./pages/LoginPage\";\n\nconst RegisterPage = React.lazy(() => import(\"./pages/RegisterPage\"));\nconst MainPage = React.lazy(() => import(\"./pages/MainPage\"));\nconst ErrorPage = React.lazy(() => import(\"./pages/ErrorPage\"));\nconst EmailFormPage = React.lazy(() => import(\"./pages/EmailFormPage\"));\nconst ResetPasswordPage = React.lazy(() => import(\"./pages/ResetPasswordPage\"));\n\nconst App = () => {\n  const isLoggedIn = useSelector((state) => !!state.auth.token);\n\n  return (\n    <>\n      <Suspense\n        fallback={\n          <div className=\"centered\">\n            <LoadingSpinner />\n          </div>\n        }\n      >\n        <Switch>\n          <Route path=\"/\" exact>\n            {isLoggedIn && <MainPage />}\n            {!isLoggedIn && <Redirect to=\"/login\" />}\n          </Route>\n          <Route path=\"/login\">\n            {!isLoggedIn && <LoginPage />}\n            {isLoggedIn && <Redirect to=\"/\" />}\n          </Route>\n          <Route path=\"/register\">\n            {!isLoggedIn && <RegisterPage />}\n            {isLoggedIn && <Redirect to=\"/\" />}\n          </Route>\n          {/* <Route path=\"/reset-password\">\n            {!isLoggedIn && <EmailFormPage />}\n            {isLoggedIn && <Redirect to=\"/\" />}\n          </Route>\n          <Route path=\"/set-new-password\">\n            {!isLoggedIn && <ResetPasswordPage />}\n            {isLoggedIn && <Redirect to=\"/\" />}\n          </Route> */}\n\n          <Route to=\"*\">\n            <ErrorPage />\n          </Route>\n        </Switch>\n      </Suspense>\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,QAAQ,CAAEC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAC1D,MAAOC,eAAc,KAAM,sCAAsC,CACjE,MAAOC,UAAS,KAAM,mBAAmB,CAAC,6IAE1C,GAAMC,aAAY,cAAGR,KAAK,CAACS,IAAI,CAAC,iBAAM,OAAM,CAAC,sBAAsB,CAAC,GAAC,CACrE,GAAMC,SAAQ,cAAGV,KAAK,CAACS,IAAI,CAAC,iBAAM,OAAM,CAAC,kBAAkB,CAAC,GAAC,CAC7D,GAAME,UAAS,cAAGX,KAAK,CAACS,IAAI,CAAC,iBAAM,OAAM,CAAC,mBAAmB,CAAC,GAAC,CAC/D,GAAMG,cAAa,cAAGZ,KAAK,CAACS,IAAI,CAAC,iBAAM,OAAM,CAAC,uBAAuB,CAAC,GAAC,CACvE,GAAMI,kBAAiB,cAAGb,KAAK,CAACS,IAAI,CAAC,iBAAM,OAAM,CAAC,2BAA2B,CAAC,GAAC,CAE/E,GAAMK,IAAG,CAAG,QAANA,IAAG,EAAS,CAChB,GAAMC,WAAU,CAAGb,WAAW,CAAC,SAACc,KAAK,QAAK,CAAC,CAACA,KAAK,CAACC,IAAI,CAACC,KAAK,GAAC,CAE7D,mBACE,sCACE,KAAC,QAAQ,EACP,QAAQ,cACN,YAAK,SAAS,CAAC,UAAU,uBACvB,KAAC,cAAc,IAAG,EAErB,uBAED,MAAC,MAAM,yBACL,MAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,KAAK,gBAClBH,UAAU,eAAI,KAAC,QAAQ,IAAG,CAC1B,CAACA,UAAU,eAAI,KAAC,QAAQ,EAAC,EAAE,CAAC,QAAQ,EAAG,GAClC,cACR,MAAC,KAAK,EAAC,IAAI,CAAC,QAAQ,WACjB,CAACA,UAAU,eAAI,KAAC,SAAS,IAAG,CAC5BA,UAAU,eAAI,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAG,GAC5B,cACR,MAAC,KAAK,EAAC,IAAI,CAAC,WAAW,WACpB,CAACA,UAAU,eAAI,KAAC,YAAY,IAAG,CAC/BA,UAAU,eAAI,KAAC,QAAQ,EAAC,EAAE,CAAC,GAAG,EAAG,GAC5B,cAUR,KAAC,KAAK,EAAC,EAAE,CAAC,GAAG,uBACX,KAAC,SAAS,IAAG,EACP,GACD,EACA,EACV,CAEP,CAAC,CAED,cAAeD,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}