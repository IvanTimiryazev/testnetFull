{"ast":null,"code":"import { keysAction } from \"./keys\";\nexport const sendKeysData = async keys => {\n  const sendRequest = async () => {\n    const response = await fetch(\"https://keysee-default-rtdb.firebaseio.com/keys.json\", {\n      method: \"PUT\",\n      body: JSON.stringify({\n        keyList: keys.keyList,\n        quantity: keys.quantity\n      })\n    });\n    if (!response.ok) {\n      throw new Error(\"Something went wrong ...\");\n    }\n  };\n  try {\n    await sendRequest();\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const fetchKeysData = () => {\n  return async dispatch => {\n    const fetchData = async () => {\n      const response = await fetch(\"https://keysee-default-rtdb.firebaseio.com/keys.json\");\n      if (!response.ok) {\n        throw new Error(\"Could not fetch cart data.\");\n      }\n      const data = await response.json();\n      return data;\n    };\n    try {\n      const keysData = await fetchData();\n      dispatch(keysAction.replaceKeys({\n        keyList: keysData.keyList || [],\n        quantity: keysData.quantity\n      }));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};","map":{"version":3,"names":["keysAction","sendKeysData","keys","sendRequest","response","fetch","method","body","JSON","stringify","keyList","quantity","ok","Error","error","console","log","message","fetchKeysData","dispatch","fetchData","data","json","keysData","replaceKeys"],"sources":["/Users/dmitrykoptev/Desktop/keysee/src/store/keys-actions.js"],"sourcesContent":["import { keysAction } from \"./keys\";\n\nexport const sendKeysData = async (keys) => {\n  const sendRequest = async () => {\n    const response = await fetch(\n      \"https://keysee-default-rtdb.firebaseio.com/keys.json\",\n      {\n        method: \"PUT\",\n        body: JSON.stringify({\n          keyList: keys.keyList,\n          quantity: keys.quantity,\n        }),\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(\"Something went wrong ...\");\n    }\n  };\n\n  try {\n    await sendRequest();\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const fetchKeysData = () => {\n  return async (dispatch) => {\n    const fetchData = async () => {\n      const response = await fetch(\n        \"https://keysee-default-rtdb.firebaseio.com/keys.json\"\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Could not fetch cart data.\");\n      }\n\n      const data = await response.json();\n      return data;\n    };\n\n    try {\n      const keysData = await fetchData();\n\n      dispatch(\n        keysAction.replaceKeys({\n          keyList: keysData.keyList || [],\n          quantity: keysData.quantity,\n        })\n      );\n    } catch (error) {\n      console.log(error);\n    }\n  };\n};\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,QAAQ;AAEnC,OAAO,MAAMC,YAAY,GAAG,MAAOC,IAAI,IAAK;EAC1C,MAAMC,WAAW,GAAG,YAAY;IAC9B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,sDAAsD,EACtD;MACEC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBC,OAAO,EAAER,IAAI,CAACQ,OAAO;QACrBC,QAAQ,EAAET,IAAI,CAACS;MACjB,CAAC;IACH,CAAC,CACF;IAED,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC7C;EACF,CAAC;EAED,IAAI;IACF,MAAMV,WAAW,EAAE;EACrB,CAAC,CAAC,OAAOW,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC;EAC5B;AACF,CAAC;AAED,OAAO,MAAMC,aAAa,GAAG,MAAM;EACjC,OAAO,MAAOC,QAAQ,IAAK;IACzB,MAAMC,SAAS,GAAG,YAAY;MAC5B,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAC1B,sDAAsD,CACvD;MAED,IAAI,CAACD,QAAQ,CAACQ,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;MAC/C;MAEA,MAAMQ,IAAI,GAAG,MAAMjB,QAAQ,CAACkB,IAAI,EAAE;MAClC,OAAOD,IAAI;IACb,CAAC;IAED,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMH,SAAS,EAAE;MAElCD,QAAQ,CACNnB,UAAU,CAACwB,WAAW,CAAC;QACrBd,OAAO,EAAEa,QAAQ,CAACb,OAAO,IAAI,EAAE;QAC/BC,QAAQ,EAAEY,QAAQ,CAACZ;MACrB,CAAC,CAAC,CACH;IACH,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}